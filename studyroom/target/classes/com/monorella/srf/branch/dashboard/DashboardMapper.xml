<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.monorella.srf.branch.dashboard.DashboardMapper">
	
	<!-- 등록경로 -->
	
	<!-- 전단지 -->
	<select id="selectPamphlet" resultType="int">
		SELECT COUNT(*) FROM branch_member_tb WHERE member_regi_path = "전단지"
	</select>
	<!-- 지인소개 -->
	<select id="selectIntroduction" resultType="int">
		SELECT COUNT(*) FROM branch_member_tb WHERE member_regi_path = "지인소개"
	</select>
	<!-- 인터넷 -->
	<select id="selectInternet" resultType="int">
		SELECT COUNT(*) FROM branch_member_tb WHERE member_regi_path = "인터넷"
	</select>
	<!-- 플래카드 -->
	<select id="selectPlacard" resultType="int">
		SELECT COUNT(*) FROM branch_member_tb WHERE member_regi_path = "플래카드"
	</select>
	<!-- 기타 -->
	<select id="selectEtc" resultType="int">
		SELECT COUNT(*) FROM branch_member_tb WHERE member_regi_path = "기타"
	</select>
	
	
	<!-- 열람석 -->
	
	<!-- 미결제 열람석 -->
	<select id="selectUnpaidSeat" resultType="int">
		SELECT COUNT(*) FROM branch_saet_tb WHERE colseat_state = "미결제"
	</select>
	<!-- 부재중 열람석 -->
	<select id="selectAbsenceSeat" resultType="int">
		SELECT COUNT(*) FROM branch_saet_tb WHERE colseat_state = "부재중"
	</select>
	<!-- 사용중 열람석 -->
	<select id="selectUseSeat" resultType="int">
		SELECT COUNT(*) FROM branch_saet_tb WHERE colseat_state = "사용중"
	</select>
	
	
	<!-- 회원 -->
	
	<!-- 금일 등록 회원 -->
	<select id="selectTodayInsertMember" resultType="int">
		SELECT COUNT(*)
		FROM branch_member_tb 
		WHERE member_date = now();
	</select>
	<!-- 전체 회원 -->
	<select id="selectMemberCount" resultType="int">
		SELECT COUNT(*) FROM branch_member_tb
	</select>
	<!-- 여자 회원 -->
	<select id="selectWoman" resultType="int">
		SELECT COUNT(*) FROM branch_member_tb WHERE member_sex = "여자"
	</select>
	<!-- 남자 회원 -->
	<select id="selectMen" resultType="int">
		SELECT COUNT(*) FROM branch_member_tb WHERE member_sex = "남자"
	</select>
</mapper>